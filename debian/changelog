libosinfo (1.6.0-1~1.gbp1ce5d1) UNRELEASED; urgency=medium

  ** SNAPSHOT build @1ce5d15bcdea3e12a71d4386a0ef2d4be6055e99 **

  [ Fabiano Fidêncio ]
  * [09db0c8] Post release version bump to 1.5.0
  * [a6df8b7] install-config: Add _set_installation_url()
    Although the installer URL can be taken from OsinfoTree, there are
    situations where OsinfoTree doesn't have a URL or even the management
    apps should prefer the URL set by their users instead of fallbacking to
    the one get from OsinfoTree.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [c7402d1] tests: Add coverage for _set_installation_url()
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [8480b22] haikunightly: Update test data.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [dd7c4f5] haikur1beta1: Add tests data.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [6c4b002] spec: Remove needless use of %defattr.
    This commit is bringing upstream the change done on Fedora on
    4a678b2f4d59,
    The change is related to
    https://docs.fedoraproject.org/en-US/packaging-guidelines/#_file_permissions
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [769a8ed] mingw,spec: Remove obsolete Group tag.
    This commit brings upstream the changes done on Fedora on
    61fea0d48407c0ee,
    References: https://fedoraproject.org/wiki/Changes/Remove_Group_Tag
    And "The Group: tag is not required in any live Fedora or EPEL release.
    RHEL5 did need it, but EPEL5 did not as it was supplied automatically
    via magic in the epel-rpm-macros package. The Packaging Guidelines have
    indicated that the Group: tag should not be used since March of 2017."
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [6e34c93] spec: Add "BuildRequires: gcc"
    Reference: https://fedoraproject.org/wiki/Changes/Remove_GCC_from_BuildRoot
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [1f170d9] spec: Use standard vala packaging pattern where vapi files are in -devel.
    This commit brings upstream the changes done on Fedora on
    42b96ea66d7b3e.
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [f99d8f1] mingw: Use %mingw_find_Lang macro.
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [b2245cb] mingw,spec: Fix the Source URL
    https://releases.pagure.org/libosinfo/... instead of
    https://releases.pagure.io/libosinfo/...
    Reviewed-by: Christophe Fergeau <cfergeau@redhat.com>
  * [63b735e] isodata,centos: Add a new LiveGNOME isodata.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [085cc95] tests: Remove test-*.uris.
    Those tests are now part of osinfo-db.
    With this change we can get rid of the curl dependency we have.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [f5c9ab3] tests: Remove test-isodetect.
    This test is now part of osinfo-db
    With this change we can get rid of the whole isodata we have.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [0ad1810] test-os: Remove test_resources_minimum_recommended_maximum.
    This test is now part of osinfo-db.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [4d19afb] test-os: Remove test_resources_uniqueness.
    This test is now part of osinfo-db.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [01d9d5a] test-os: Remove test_devices_duplication.
    This test is now part of osinfo-db.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [0cb094a] Add a git-publish configuration file
  * [e8e0ca9] tree: Also check fore "treeinfo" in addition to ".treeinfo"
    Akamai CDN hosted files can't start with a dot, making trees published to
    a CDN having their ".treeinfo" files renamed to "treeinfo".
    https://gitlab.com/libosinfo/libosinfo/issues/18
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [f834d28] tree: Add get_os_variants() API
    osinfo-db schema allows that, but libosinfo never really had an API to
    support it.
    In order to add get_os_variants(), (get,set)_os APIs were also added,
    matching the behaviour for OsinfoMedia.
    https://gitlab.com/libosinfo/libosinfo/issues/16
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [6aedc6d] tests: Add test-tree.c.
    This test, at least for now, tests:
    - The basic functionality of creating a OsinfoTree object;
    - osinfo_tree_get_os_variants() API;
    https://gitlab.com/libosinfo/libosinfo/issues/16
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [5352162] db: Rename tree to treeinfo in guess_os_from_tree()
    It'll make clear that we're dealing with the treeinfo attributes and not
    with the tree ones.
    https://gitlab.com/libosinfo/libosinfo/issues/20
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [64d70a9] db: Rename os_* to os_treeinfo_* in guess_os_from_tree()
    It'll make clear that we're dealing with the treeinfo attributes and not
    with the tree ones.
    https://gitlab.com/libosinfo/libosinfo/issues/20
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [8b3d24a] db: Deal with "all" tree architectures.
    Tree with "all" architecture are used as a fallback when guessing an OS
    from a tree.
    Knowing that, any entry with "all" architecture should not be considered
    when first comparing the trees, thus those are skipped and, later on,
    if no match has been found, those are used.
    https://gitlab.com/libosinfo/libosinfo/issues/20
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [ec0e85b] test-db: Add test for guessing tree from OS.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [c62b865] db: Deal with "all" media architecture.
    Medias with "all" architecture are used as a fallback when guessing an OS
    from a media.
    Knowing that, any entry with "all" architecture should not be considered
    when first comparing the medias, thus those are skipped and, later on,
    if no match has been found, those are used.
    https://gitlab.com/libosinfo/libosinfo/issues/20
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [24be8df] test-db: Add test to cover identifying a media with "unknown" arch.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [2626058] media: Fix usage of application id.
    Christophe Fergeau pointed this issue out during the review of 6d789033e
    and, even though, the bogus code ended up merged (sorry, mea culpa
    here!).
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [1940739] loader: Properly load the arch value for images
    osinfo_loader_image() has been considering the XML tag for the
    images' architecture was "architecture", while it actually is "arch".
    By trying to read the wrong tag, no arch was loaded, causing then any
    image load to fail with:
    CRITICAL **: 13:30:06.539: osinfo_entity_set_param: assertion 'value != NULL' failed
  * [04ffe39] test-image: Add test for loading an entry
  * [46a75ec] image: Add get_os_variants() API
    osinfo-db schema allows that, but libosinfo never really had an API to
    support it.
    In order to add get_os_variants(), (get,set)_os APIs were also added.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [1581f3f] test-image: Expand the tests to consider variants.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [8134ce7] db: Set the os to the detected tree.
    When detecting a tree, let's also set its OS.
    https://gitlab.com/libosinfo/libosinfo/issues/25
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [e971e7a] media,image,tree: Avoid critical errors when getting the os variants.
    When getting the os variant of media, image, or tree, let's ensure their
    OS is not NULL* before calling osinfo_os_get_variant_list(). In case
    it's NULL, let's just return NULL.
    *: having a media, image, or tree with no OS set is a common case when
    the user has been creating it manually.
    https://gitlab.com/libosinfo/libosinfo/issues/25
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [7159b2c] osinfo-detect: Be aware of tree's os variants.
    In the same way done for medias, make the tree detection aware of
    os-variants.
    https://gitlab.com/libosinfo/libosinfo/issues/25
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [44cab89] osinfo-detect: print os variants info for env format.
    Similarly to what's been done for the plain format, let's also print
    os variants' information when using --format=env.
  * [da7ce6a] spec: Require GVFS.
    GVFS is required as g_file_new_from_path() and g_file_new_from_uri()
    rely on GVFS.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [04df3bf] osinfo-detect: Improve --help wording.
    The "URL type" text leads to the misunderstanding that `osinfo-detect`
    only works for URLs and not for local medias as well.
    Let's change the wording in order to make it clearer.
    https://gitlab.com/libosinfo/libosinfo/issues/26
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [4627049] loader: Fully support multiple short-id values
    osinfo-db schema allows for multiple short-id, and there's already some
    entries that rely on that. For example, debian and ubuntu have something
    like:
    ```
    <short-id>debian9</short-id>
    <short-id>debianstretch</short-id>
    ```
    or
    ```
    <short-id>ubuntu19.04</short-id>
    <short-id>ubuntudisco</short-id>
    ```
    However, OsinfoLoader has always been treating "short-id" as a single
    property entry and, as a consequence of this, apps would always have to
    use the first listed id as shown below:
    ```
    fidencio@dahmer ~/src/upstream/libosinfo $ osinfo-install-script debian9
    preseed.cfg
    fidencio@dahmer ~/src/upstream/libosinfo $ osinfo-install-script debianstretch
    Error finding OS: debianstretch
    fidencio@dahmer ~/src/upstream/libosinfo $ osinfo-install-script ubuntu19.04
    preseed.cfg
    fidencio@dahmer ~/src/upstream/libosinfo $ osinfo-install-script ubuntudisco
    Error finding OS: ubuntudisco
    ```
    As OsinfoEntity already has support for multiple property entries, let's
    take advantage of this and properly treat OSINFO_PRODUCT_PROP_SHORT_ID as
    so.
    This doesn't break any compatibility with the existent code as
    osinfo_entity_get_param_value() will *always* return the first added
    entry, as it was done before.
    OsinfoFilter also already has support for multiple property entries and
    the filter works as expected.
    Here's the result of the very same example used above with this fix:
    ```
    fidencio@dahmer ~/src/upstream/libosinfo $ ./tools/osinfo-install-script debian9
    preseed.cfg
    fidencio@dahmer ~/src/upstream/libosinfo $ ./tools/osinfo-install-script debianstretch
    preseed.cfg
    fidencio@dahmer ~/src/upstream/libosinfo $ ./tools/osinfo-install-script ubuntu19.04
    preseed.cfg
    fidencio@dahmer ~/src/upstream/libosinfo $ ./tools/osinfo-install-script ubuntudisco
    preseed.cfg
    ````
    https://gitlab.com/libosinfo/libosinfo/issues/19
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [d430b3c] product: Add osinfo_product_get_short_id_list() API.
    As multiple short-ids is fully supported, let's add a new API for
    getting the whole list instead.
    https://gitlab.com/libosinfo/libosinfo/issues/19
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [7f0cc3f] tests: Add tests for multiple short-ids.
    I've decided to for testing the multiple short-ids at the os level, as
    it reflects better the usage of the newly added APIs.
    https://gitlab.com/libosinfo/libosinfo/issues/19
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [111621d] Revert "osinfo-detect: print os variants info for env format"
    This reverts commit 44cab89243220223b0ac6312237c08a514055664, as the
    commit was mistakenly pushed.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [0c89aa4] install_config: Fix _get_installation_url docs.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [4ff424e] media: Document OSINFO_MEDIA_ERROR_NO_DIRECTORY_RECORD_EXTENT.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [577f512] media: Use the same parameter's name for .c and .h.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [f7b135f] install_script: Document OsinfoInstallScriptInstallationSource.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [70fb25d] install_script: Use the same parameter's name in .c and .h.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [b453c51] docs: Add missing docs links from main docs page.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [f1152e8] Refresh translations from zanata.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [83a085e] Update NEWS for 1.5.0 release.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [bac8634] Post release version bump to 1.6.0
  * [bd88a6c] os: Add kernel-url-argument API.
    Tree based installations will require a kernel-url-argument to be
    assed. Let's provide an API to the apps to get this info from OsinfoOS.
    https://gitlab.com/libosinfo/osinfo-db/issues/28
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [949ad5e] db: Avoid dereference of null pointer.
    As any consumer of libosinfo API may pass NULL as the @matched argument
    of compare_tree(), the current code could be dereferencing a NULL
    pointer when calling `osinfo_tree_set_os()`.
    In order to avoid doing so, let's set the os to the OsinfoTree at the
    moment the @matched argument is set.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [d7bc838] tree: Avoid use of memory after it's freed.
    We've been passing data->location as the @url argument of
    osinfo_tree_create_from_location_async_helper(), freeing it and trying
    to g_strdup() it as the new content of data->location.
    In order to avoid doing so, let's set the data->location only once, in
    the first caller of osinfo_tree_create_from_location_async_helper(), as
    its content is always going to be the same doesn't matter the treeinfo
    format to be used with.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [dfda025] tree: Cleanup _create_from_location_async_helper()
    There's no need to pass neither the URL nor the cancellable to this
    function as those can be taken directly from data.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [eda448d] media: Ignore case when detecting bootable ppc ISO.
    When detecting a PPC bootable iso, we should search by the
    "/ppc/bootinfo.txt" file inside the iso. However, there's no guarantee
    that the name of the file will be always lowercased as it depends on the
    extensions used to generate the ISO.
    The problematic ISO can be found at:
    http://cdimage.debian.org/cdimage/release/9.9.0/ppc64el/iso-cd/debian-9.9.0-ppc64el-netinst.iso
    And one curious thing to mention is that there's no TRANS.TBL file (the
    one used to translate, for instance, PPC -> ppc) present in the ISO.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [2494b56] media: Add OsinfoMediaDetectFlags.
    Let's add a new type in order to specify flags to osinfo_media_detect.
    This type, at least for now, contains only one specific flag that will
    be used to specify whether the detection of the media should or should
    not fail in case the media is not bootable.
    https://gitlab.com/libosinfo/libosinfo/issues/15
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [121952d] media: Add create_from_location_with_flags* APIs.
    The newly added APIs are introduced in order to extend the current
    create_from_location* APIs in a way that a flag can be passed in order
    to decided whether a media should be created even if the media is not
    recognised as bootable by libosinfo.
    https://gitlab.com/libosinfo/libosinfo/issues/15
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [d958b46] media: Rewrite create_from_location* functions.
    Let's rewrite those functions, using the
    create_from_location_with_flags* functions behind.
    https://gitlab.com/libosinfo/libosinfo/issues/15
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [fa2af2d] media: Only error out if a media is not bootable when REQUIRE_BOOTABLE flag is passed.
    It'll give more flexibility for the apps to, at least, detect a media,
    even if the media is not bootable.
    https://gitlab.com/libosinfo/libosinfo/issues/15
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [242a1c5] media: Add _is_bootable() API.
    Let's add an API in order to let the applications known whether a media
    created is bootable or not (according to libosinfo detection).
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [a612bb4] tree: Remove useless properties.
    A bunch of media properties were mistakenly added as tree properties as
    part of commit 0202b4db. Although this is clearly a copy & paste error,
    it has never been noticed so far.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [5fbf30e] tree: Don't set "has-treeinfo" property's default to TRUE.
    Doesn't make sense to set "has-treeinfo" property to TRUE by default
    knowing that debian and ubuntu trees do not support treeinfo.
    This was mistakenly added as part of commit eb53f8d6.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [12d73e9] tree: Add treeinfo-* properties.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [47ac598] tree: Fix treeinfo APIs' documentation.
    The documention was copied & pasted from media APIs. Let's fix them ir
    order to actually match trees/treeinfo.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [5b7711c] db: Add identify_tree() API.
    Similarly to identify_media() API, let's add a osinfo_db_identify_tree()
    API, which is going to simplify a bit tree detection code on the apps
    level.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [722e7d1] tools,detect: Use osinfo_db_identify_tree()
    Let's switch osinfo-detect to use the new API as the old one will end up
    being deprecated soon.
    Also,, the code path for medias and trees is now way more similar with
    the changes.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [a928ffc] db: deprecate osinfo_db_guess_os_from_tree()
    Let's deprecate osinfo_db_guess_os_from_tree() and "force" the apps to
    use the new/simpler API.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
    Tested-by: Cole Robinson <crobinso@redhat.com>
  * [08fb831] tools,install-script: Add --config-file (-f) option.
    Let's add a new option so users can set their config from a file,
    instead of directly passing the values via command-line.
    CVE-2019-13313
    Libosinfo: osinfo-install-script option leaks password via command line
    argument. 'osinfo-install-script' is used to generate a script for
    automated guest installations. It accepts user and admin passwords via
    command line arguments, thus leaking them via process listing.
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [3654abe] tools,install-script: Deprecate --config {user,admin}-password.
    Let's deprecate user-password and admin-password options of --config and
    also warn out whenever they're passed to osinfo-install-script.
    CVE-2019-13313
    Libosinfo: osinfo-install-script option leaks password via command line
    argument. 'osinfo-install-script' is used to generate a script for
    automated guest installations. It accepts user and admin passwords via
    command line arguments, thus leaking them via process listing.
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [b62a265] Add "Since: 0.0.3" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [567a734] Add "Since: 0.0.5" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [46a2ce7] Add "Since: 0.0.6" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [b6dc2c3] Add "Since: 0.1.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [0627a49] Add "Since: 0.2.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [255c5cf] Add "Since: 0.2.1" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [4b45623] Add "Since: 0.2.2" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [d56f3ee] Add "Since: 0.2.3" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [ac7eb2b] Add "Since: 0.2.6" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [9e27853] Add "Since: 0.2.7" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [3399704] Add "Since: 0.2.8" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [3715c9a] Add "Since: 0.2.9" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [90e9512] Add "Since: 0.2.10" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [3d60d88] Add "Since: 0.2.11" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [627e8bf] Add "Since: 0.2.12" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [6a7150b] Add "Since: 0.2.13" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [2594c9c] Add "Since: 1.3.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [d8ed1fa] Add "Since: 1.4.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [4e8d24f] Add "Since: 1.5.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [84d9646] Add "Since: 1.6.0" to the documentation.
    Let's add the "Since: ..." information as part of the function's
    documentation. It helps developers reading our docs to easily figure out
    when a function has been introduced.
    Together with this change, documentation has been added to the functions
    missing them.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [e2cce9b] install-script: Add _generate_*_for_tree()
    Similarly to what we already have for media, let's add APIs for
    generating both the install-script and the install-script command line
    for trees.
    These new APIs take a tree as parameter and, by that, can access tree
    specific elements as such its URLs.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [93783da] media: Fix indentation in create_from_location_async_data_free()
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [1c7dfc4] tree: Remove not used Tree from _CreateFromLocationAsyncData struct.
    As the OsinfoTree is not used anywhere in our code, let's just remove
    it.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [dd3eaa2] media: Improve on_location_read error message readability.
    Let's add a ": " by the end of the error message, so the prefix doesn't
    get concatenated with error message, increasing its readability.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [c9fc9c3] media: Use GInpuStream directly in on_location_read()
    Let's do this in order to always deal with a GInputStream directly and
    avoid dealing with a GFileInputStream or something else when we start
    using libsoup to deal with non-local files.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [ac692ea] media: Use libsoup for http:// & https:// requests.
    As osinfo_media_create_from_location_with_flags_async() can handle
    non-local cases, they'd end up relying on GVFS under the hood, which
    would cause those APIs to not work when called from an app running as
    root.
    In order to avoid this situation, let's rely on libsoup for these cases.
    https://gitlab.com/libosinfo/libosinfo/issues/30
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [e0e06c7] tree: Use libsoup for http:// & https:// requests.
    As osinfo_tree_create_from_location() handles non-local requests, it'd
    end up relying on GVFS under the hood, which would cause this API to not
    work when called from an app running as root.
    In order to avoid this situation, let's rely on libsoup for this cases.
    It's important to mention that glib minimum version has been bumped to
    2.44 as that's the version where g_input_stream_read_all_async() has
    been introuced.
    https://gitlab.com/libosinfo/libosinfo/issues/30
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [16c99cf] spec: Drop gvfs dependency.
    As we rely on libsoup to handle http://, https://, and ftp:// requests
    there's no need to depend on gvfs anymore.
    https://gitlab.com/libosinfo/libosinfo/issues/30
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [a6e17af] tree: Use g_clear_object in create_from_location_async_data_free()
    We should check whether the objects are NULL or not before calling
    g_object_unref(). Instead of doing so, let's use g_clear_object(), which
    doesn't require the check.
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [534dbfe] tree: goto cleanup on any error, on on_content_read()
    Instead of just free'ing the CreateFromLocationAsyncData, let's just go
    to cleanup, which will call create_from_location_async_data_free() and
    return after that.
    By doing so we avoid errors as:
    g_task_return_error: assertion 'task->ever_returned' failed.
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [87ce15b] tree: cleanup on any error & return on _create_from_location_async_helper()
    When calling a g_task_return_error(), we should also cleanup the
    CreateFromLocationAsyncData and return immediately after that.
    By doing so we avoid errors as:
    g_task_return_error: assertion 'task->ever_returned' failed.
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [6151812] tree: Add "os" property.
    Similarly to what we have for media, let's add the "os" property to the
    trees.
    osinfo-detect code is already relying on having an "os" property and,
    since commit 722e7d1d4, it errors out due to the missing property:
    (osinfo-detect:7808): GLib-GObject-WARNING **: 09:27:58.656: g_object_get_is_valid_property: object class 'OsinfoTree' has no property named 'os
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [04041c6] tools,detect: Check for NULL variants.
    Both trees & medias may return NULL in case no os-variant was found.
    Let's check for this and avoid a segmentation fault on calling
    osinfo_list_get_length() with a NULL argument.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>
  * [76c35da] spec,mingw: Add mingw*-libsoup as dependency.
    Commit ac692eaa4680 introduced libsoup dependency but forgot to add it
    to the mingw spec files.
  * [8e057ee] Refresh translations from zanata
  * [0b4fd65] Update NEWS for 1.6.0 release.
    Reviewed-by: Cole Robinson <crobinso@redhat.com>

  [ Cole Robinson ]
  * [6c039a4] Add toplevel .dir-locals.el.
    This centralizes emacs config in a top level file, matching the
    bits sprinkled around in 'Local variable' comments
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
  * [b19c125] Remove emacs 'Local variables' annotations.
    No other virt projects have annotations like this, plus IMO
    .editorconfig handles this in a much nicer way and more flexible
    way. Ditch them
    Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>

  [ Pino Toscano ]
  * [27715e5] gitignore: remove old entries, simplify existing ones.
    Remove patterns referring to old tests, and in general to files that do
    not exist anymore.
    Simplify few existing patterns into more general ones.
    Reviewed-by: Fabiano Fidêncio <fidencio@redhat.com>

 -- Guido Günther <agx@sigxcpu.org>  Sun, 28 Jul 2019 10:40:59 +0200

libosinfo (1.4.0-1) experimental; urgency=medium

  [ Guido Günther ]
  * New upstream versio 1.4.0
    (Closes: #923789)
  * d/gbp.conf: Switch to experimental
  * Minimize existing signing key and add new one
  * Unbreak arch parsing application id usage
    - loader-Properly-load-the-arch-value-for-images.patch
    - media-Fix-usage-of-application-id.patch
    Thanks to Fabiano Fidêncio
  * d/control: Bump osinfo-db build-dep.
    We need a newer version for the tests
  * Drop failing haiku test
  * Update symbols file

 -- Guido Günther <agx@sigxcpu.org>  Mon, 15 Apr 2019 16:39:07 +0200

libosinfo (1.2.0-1) unstable; urgency=medium

  * d/control: swith VCS-* URLs to salsa
  * New upstream version (Closes: #908983)
  * d/control: Drop build-dep libsoup-gnome-2.4.
    Thanks to Jeremy Bicha
  * d/control: Switch to priority optional
  * d/copyright: Avoid duplicate license paragraph
  * d/control: Bump standards version
  * debian/copyright: Fix upstream URL.
    Project moved to gitlab.
    Thanks to Jeremy Bicha
  * d/control: Move l10n package to localization section

 -- Guido Günther <agx@sigxcpu.org>  Mon, 17 Sep 2018 10:00:52 +0200

libosinfo (1.1.0-1) unstable; urgency=medium

  * [349b18f] Upstream moved from fedorahosted to pagure
  * [0dfd210] Use vcs-upstream-tag
  * [4921ed0] libtool is sufficient no need for libtool-bin.
    Thanks to Helmut Grohne (Closes: #871703)
  * [c501be8] Drop loader-Fix-typo-in-error-message.patch: applied upstream
  * [911d9a3] Bump sumbols
  * [764448c] Bump standards version

 -- Guido Günther <agx@sigxcpu.org>  Sat, 19 Aug 2017 23:01:01 +0200

libosinfo (1.0.0-2) unstable; urgency=medium

  * Upload to unstable
  * [292a8ab] Fix Breaks/Replaces.
    Thanks to Andreas Beckmann (Closes: #842060)
  * [a979083] Re-enable test suite.  We have osinfo-db in the archive now. Add
    necessary build-deps for that.
  * [059a0b6] Turn on all hardening flags
  * [1b3d04b] loader: Fix typo in error message
  * [e5e2fb8] d/control: Improve description a bit

 -- Guido Günther <agx@sigxcpu.org>  Sat, 05 Nov 2016 14:08:20 +0100

libosinfo (1.0.0-1) experimental; urgency=medium

  * [ec1ceb9] New upstream version 1.0.0
  * [49b298c] Update README.source
  * [aa221ba] Drop libosinfo-db package and use the now split out osinfo-db
  * [de23113] Disable internal test suite until we have osinfo-db in the
    archive

 -- Guido Günther <agx@sigxcpu.org>  Thu, 20 Oct 2016 14:58:58 +0200

libosinfo (0.3.1-5) unstable; urgency=medium

  * [93359f7] Fix a typo in the replaces line.
    Thanks to Andreas Beckmann (Closes: #829422)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 14 Jul 2016 19:36:19 +0200

libosinfo (0.3.1-4) unstable; urgency=medium

  [ Jeremy Bicha ]
  * [a9141ff] Have build-test autopkgtest depend on build-essential
  * [d762ae0] Have libosinfo-dev depend on libglib2.0-dev (Closes: #829639)
  * [2457cbb] Point Vcs-Browser to cgit

 -- Guido Günther <agx@sigxcpu.org>  Tue, 05 Jul 2016 10:22:44 +0200

libosinfo (0.3.1-3) unstable; urgency=medium

  * [070f0f7] Unbreak build on arch != amd64.
    The hardcoded path is no good if we use dh_install --fail-missing
    afterwards. (Closes: #829495)

 -- Guido Günther <agx@sigxcpu.org>  Sun, 03 Jul 2016 23:52:26 +0200

libosinfo (0.3.1-2) unstable; urgency=medium

  [ Michael Biebl ]
  * [e95a02d] Move Breaks/Replaces to libosinfo-db (Closes: #829423)

  [ Guido Günther ]
  * [5418a86] programs and tests are GPLv2 licensed
  * [5ea9df4] Bump debhelper dependency to 9 to multiarch
  * [1448876] Make libosinfo-db arch any

 -- Guido Günther <agx@sigxcpu.org>  Sun, 03 Jul 2016 10:28:45 +0200

libosinfo (0.3.1-1) unstable; urgency=medium

  * [9abe446] New upstream version 0.3.1
  * [871f311] watch: Add signature verifiation
  * [1991a68] Switch back to tarballs

 -- Guido Günther <agx@sigxcpu.org>  Fri, 01 Jul 2016 19:58:32 +0200

libosinfo (0.3.0-3) unstable; urgency=medium

  * [a9a31e7] Move database files into separate package and install
    translations (Closes: #825009)
  * [a3c4034] Fail if we don't install all files

 -- Guido Günther <agx@sigxcpu.org>  Fri, 27 May 2016 16:13:43 +0200

libosinfo (0.3.0-2) unstable; urgency=medium

  [ Laurent Bigonville ]
  * [19e7318] Bump debhelper compatibility to 9 and multiarchify the library
    packages.  Thanks to Matthias Klose <doko@debian.org> (Closes: #812921)

  [ Guido Günther ]
  * [7940355] Drop unneeded Pre-Depends
  * [ffd3171] Drop debug package
  * [59e011a] Fix Vcs-Browser URL
  * [cf6b1ca] Build and install API documentation
  * [00acc87] Add autopkg build-test
  * [8edbebd] Test invocation of osinfo-install-script as well

 -- Guido Günther <agx@sigxcpu.org>  Wed, 25 May 2016 09:30:36 +0200

libosinfo (0.3.0-1) unstable; urgency=medium

  [ Guido Günther ]
  * [48a0ce3] Drop udev rule handling since the rule is superflous and was
    dropped upstream
  * [6417d53] Add simple autopkg smoke test

  [ Laurent Bigonville ]
  * [6402871] debian/libosinfo-bin.install: Install the manpages
  * [9f0c857] debian/rules: Use the gir sequence instead of overriding
    dh_makeshlibs
  * [fbdca7a] debian/control: Update the Homepage URL (Closes: #824988)
  * [389324b] debian/rules: Drop --enable-udev flag, doesn't exist anymore
  * [b8a5a7a] debian/control: Update the Vcs-* URL's to please lintian
  * [c741c20] debian/control: Bump Standards-Version to 3.9.8 (no further
    changes)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 23 May 2016 08:56:27 +0200

libosinfo (0.2.12-2) unstable; urgency=medium

  * Upload to unstable (Closes: #801684)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 14 Oct 2015 05:43:02 -0400

libosinfo (0.2.12-1) experimental; urgency=medium

  * New upstream version
  * [f12b63f] Bump symbol versions

 -- Guido Günther <agx@sigxcpu.org>  Thu, 13 Aug 2015 23:29:09 +0200

libosinfo (0.2.11-1.1) unstable; urgency=medium

  * Non-maintainer upload.
  * Build-depend on libtool-bin. Closes: #761767.

 -- Matthias Klose <doko@debian.org>  Thu, 09 Oct 2014 10:41:04 +0000

libosinfo (0.2.11-1) unstable; urgency=medium

  * New upstream version (Closes: #762987)
  * [3c63e75] Bump symbol versions
  * [c19118a] Bump standards version to 3.9.5
  * [b79ec78] Add README.source
  * [aa11c42] Use dpkg-buildflags to get the proper hardening flags

 -- Guido Günther <agx@sigxcpu.org>  Sat, 27 Sep 2014 12:47:45 +0200

libosinfo (0.2.9-1) unstable; urgency=medium

  * New upstream version (Closes: #738861)
  * [a37c81c] Update symbols

 -- Guido Günther <agx@sigxcpu.org>  Sat, 15 Feb 2014 12:32:27 +0100

libosinfo (0.2.8-1) unstable; urgency=low

  * New upstream version (Closes: #724553)
  * [35ef4ea] Update symbols
  * [ef528e9] Depend on pciutils and usbutils
    instead of hwdata now that the hwdata uses {pci,usb}utils data instead
    of providing its own. (Closes: #721407)
  * [a9ccd54] Name debian packaging branch debian/sid as proposed in the gbp
    manual.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 16 Oct 2013 13:15:10 +0200

libosinfo (0.2.7-1) unstable; urgency=low

  * Upload to unstable
  * [e3c2f67] Update symbols file
  * [f73730d] Drop ln-destdir.patch applied upstream
  * [f11a0a8] Use vala >= 0.20 (Closes: #709720)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 27 May 2013 17:46:05 +0200

libosinfo (0.2.6-0.1) experimental; urgency=low

  * Non-maintainer upload with maintainer approval.
  * Imported Upstream version 0.2.6
  * Drop patch for pci/usb-ids-path and use configure arguments instead
  * Don't run ./autogen.sh before configure, not shipped anymore.
  * Drop creation of pci.ids and usb.ids symlinks
  * Add ln-destdir.patch to create *.ids symlinks in correct place
  * Add dh-autoreconf to rebuild Makefiles after patching
  * Update libosinfo-1.0-0.symbols
  * Change valac-0.14 build-dependency to valac (Closes: #675658)

 -- Andreas Henriksson <andreas@fatal.se>  Wed, 27 Mar 2013 10:49:15 +0100

libosinfo (0.2.1-1) experimental; urgency=low

  * New Upstream version 0.2.1 (Closes: #691117)
  * [286339e] Update patches
  * [d71540b] Add libxslt-dev dependency
  * [158e678] Update symbols

 -- Guido Günther <agx@sigxcpu.org>  Tue, 23 Oct 2012 13:44:41 +0200

libosinfo (0.1.1-1) unstable; urgency=low

  * New upstream version (Closes: #670846)
  * [7c97cb9] Only invoke dh_auto_clean if a Makefile exists
  * [79ac455] Require libsoup-gnome2.4-dev
  * [31f8897] Require libxml2-utils for the tests
  * [7c84d7e] Update patches
  * [86ec570] Update symbols file
  * [cc0d097] Bump standards version

 -- Guido Günther <agx@sigxcpu.org>  Wed, 02 May 2012 08:33:52 +0200

libosinfo (0.1.0-3) unstable; urgency=low

  * Upload to unstable

 -- Guido Günther <agx@sigxcpu.org>  Thu, 19 Apr 2012 12:30:16 +0200

libosinfo (0.1.0-2) experimental; urgency=low

  * [883b6ab] Add symbols file (Closes: #668433)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 12 Apr 2012 08:53:44 +0200

libosinfo (0.1.0-1) experimental; urgency=low

  [ Jeremy Bicha ]
  * [7d2cd26] Use dots at the end of the short description

  [ Guido Günther ]
  * New upstream version (Closes: #663122)
  * [18b4441] Add watch file

 -- Guido Günther <agx@sigxcpu.org>  Thu, 08 Mar 2012 19:21:20 +0100

libosinfo (0.0.5-1) experimental; urgency=low

  * New upstream version 0.0.5

 -- Guido Günther <agx@sigxcpu.org>  Sun, 22 Jan 2012 17:30:46 +0100

libosinfo (0.0.4-2) experimental; urgency=low

  * [62490ca] Make the dev package depend on the gir package.
    Thanks to Jeremy Bicha

 -- Guido Günther <agx@sigxcpu.org>  Sat, 14 Jan 2012 21:39:19 +0100

libosinfo (0.0.4-1) experimental; urgency=low

  * Initial release (Closes: #649780)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 11 Jan 2012 14:36:48 +0100
